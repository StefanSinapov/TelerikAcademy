// Generated by CoffeeScript 1.7.1
(function() {
  var address, output, page, size, system;

  page = require('webpage').create();

  system = require('system');

  if (system.args.length < 3 || system.args.length > 4) {
    console.log('Usage: rasterize.coffee URL filename [paperwidth*paperheight|paperformat]');
    console.log('  paper (pdf output) examples: "5in*7.5in", "10cm*20cm", "A4", "Letter"');
    phantom.exit(1);
  } else {
    address = system.args[1];
    output = system.args[2];
    page.viewportSize = {
      width: 600,
      height: 600
    };
    if (system.args.length === 4 && system.args[2].substr(-4) === ".pdf") {
      size = system.args[3].split('*');
      if (size.length === 2) {
        page.paperSize = {
          width: size[0],
          height: size[1],
          border: '0px'
        };
      } else {
        page.paperSize = {
          format: system.args[3],
          orientation: 'portrait',
          border: '1cm'
        };
      }
    }
    page.open(address, function(status) {
      if (status !== 'success') {
        console.log('Unable to load the address!');
        return phantom.exit();
      } else {
        return window.setTimeout((function() {
          page.render(output);
          return phantom.exit();
        }), 200);
      }
    });
  }

}).call(this);

//# sourceMappingURL=rasterize.map
